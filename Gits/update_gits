#!/usr/bin/env bash
#   _____  _____  _____
# X|  ___\|  _  ||  ___\	  xfafnir
#  | |_   | |_| || |_	   ---------------
#  |  _|  |  _  ||  _|	    xfafnir@protonmail.com
#  |_|    |_| |_||_|	    https://gitlab.com/xfafnir
#  __   _  _____  _____	
# |  \ | ||_   _||  _  |	Program:
# | | \| |  | |  | |_|_|  
# | |\ | | _| |_ | |\ \ 
# |_| \__||_____||_| \_|	
set -eo pipefail

gits_dir=$HOME"/Gits"
pushd $gits_dir
<<<<<<< HEAD
if [ -d "$gits_dir" ] ; then
    echo "Directory $gits_dir found in Path" 
    pushd $gits_dir
    diff_gits="$(exa $gits_dir | fzf --prompt="Upgrade : " --border --margin=5% --color=dark --height=100% --reverse --header=" GITS " --header-first)"
    if [ "$diff_gits" = "alacritty" ]; then
        cd "$diff_gits" && cargo build --release && cd ..
    elif [[ $diff_gits ]]; then
        cd "$diff_gits" && git pull --no-rebase && cd ..
    else
        exit
    fi
    popd
else
    echo "Directory ~/Gits is not found in Path"
fi
